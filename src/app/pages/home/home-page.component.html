@if (viewModel$ | async; as vm) {
  <section class="welcome-section">
    <h2 class="section-heading">Welcome to the home of London&nbsp;chess!</h2>
    <p>
      <span>
        The London Chess Club is open to players of all ages and abilities. We host
        regular blitz and rapid chess tournaments, as well as a variety of lectures,
        simuls and team competitions. Every fall we also host the London Chess
        Championship, a multi-section round-robin tournament to crown the next
      </span>
      <a
        routerLink="/city-champion"
        class="lcc-link">
        city champion</a
      >.
    </p>

    <div class="main-links">
      <a
        class="tournament-registration-link-button lcc-primary-button"
        href="https://docs.google.com/forms/d/e/1FAIpQLSfCucQMB9RyiGNWCIAkh9N22S8CMSD5JWhi_A9RdcYSk4AYsg/viewform?usp=sharing&ouid=101543539456051433769"
        ref="noopener noreferrer"
        target="_blank"
        tooltip="Google Docs registration form for upcoming LCC tournaments">
        Register for a tournament
      </a>
      <lcc-link-list [links]="[aboutPageLink]"></lcc-link-list>
    </div>

    <lcc-club-links></lcc-club-links>
  </section>

  <section class="schedule-section">
    <h2 class="section-heading">Upcoming events</h2>
    @if (vm.isAdmin) {
      <lcc-admin-toolbar
        [adminLinks]="[addEventLink]"
        [adminButtons]="[exportToCsvButton]">
      </lcc-admin-toolbar>
    }
    @if (vm.homePageEvents.length) {
      <lcc-events-table
        [events]="vm.homePageEvents"
        [isAdmin]="vm.isAdmin"
        [nextEvent]="vm.nextEvent"
        (requestDeleteEvent)="onRequestDeleteEvent($event)">
      </lcc-events-table>
      <lcc-link-list [links]="[schedulePageLink]"></lcc-link-list>
    }
  </section>

  <section class="articles-section">
    <h2 class="section-heading">Latest news</h2>
    @if (vm.isAdmin) {
      <lcc-admin-toolbar [adminLinks]="[createArticleLink]"></lcc-admin-toolbar>
    }
    <lcc-article-grid
      [articles]="vm.homePageArticles"
      [images]="vm.allImages"
      [isAdmin]="vm.isAdmin"
      [isHomePage]="true"
      (requestDeleteArticle)="onRequestDeleteArticle($event)"
      (requestUpdateArticleBookmark)="onRequestUpdateArticleBookmark($event)">
    </lcc-article-grid>
    <lcc-link-list [links]="[newsPageLink]"></lcc-link-list>
  </section>

  <section class="regional-clubs-section">
    <h2 class="section-heading">Regional clubs</h2>

    <div class="regional-clubs-container">
      @for (club of REGIONAL_CLUBS; track club.name) {
        <div class="club-card">
          <div class="club-card-content">
            <h3 class="club-name">{{ club.name }}</h3>
            <div class="address">
              <mat-icon class="map-icon">location_on</mat-icon>
              <a
                class="address-link lcc-link"
                href="{{ club.mapUrl }}"
                rel="noopener noreferrer"
                target="_blank">
                {{ club.addressLine1 }}<br />
                {{ club.addressLine2 }}<br />
                {{ club.addressLine3 }}
                <mat-icon class="external-link-icon">open_in_new</mat-icon>
              </a>
            </div>
            <div class="schedule secondary-text">
              {{ club.scheduleText }}
            </div>
            @if (club.email) {
              <div class="email">
                <label class="email-label secondary-text">contact: </label>
                <a
                  [href]="'mailto:' + club.email"
                  class="email-link lcc-link"
                  rel="noopener noreferrer"
                  target="_blank">
                  <span>{{ club.email }}</span>
                  <mat-icon class="external-link-icon">open_in_new</mat-icon>
                </a>
              </div>
            }
          </div>
        </div>
      }
    </div>
  </section>

  <section class="photos-section">
    <lcc-photo-grid
      [isAdmin]="vm.isAdmin"
      [maxAlbums]="12"
      [photoImages]="vm.photoImages"
      (requestDeleteAlbum)="onRequestDeleteAlbum($event)">
    </lcc-photo-grid>
    <lcc-link-list [links]="[photoGalleryPageLink]"></lcc-link-list>
  </section>
}
